<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
    <head>
        <title>Moja aplikacja - rejestracja</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    </head>
    <body>

        
        <div><label> Nazwa: <input type="text" name="userName" id="userName"/> </label></div>
        <div><label> Hasło: <input type="password" name="password" id="password"/> </label></div>
        <div><label> Powtórz: <input type="password" id="password2"/></label></div>
        <div><label> Imię: <input type="text" name="firstName" id="firstName"/> </label></div>
        <div><label> Nazwisko: <input type="text" name="lastName" id="lastName"/> </label></div>
        <div><label> Email: <input type="text" name="email" id="email"/> </label></div>
        <div><input type="button" value="Zarejestruj" id="submitForm"/></div>
        
        
        <script>
        $(function() {
            $("#submitForm").click(function(){
            	let data = {};
            	data.userName = $("#userName").val();
            	data.password = $("#password").val();
            	data.firstName = $("#firstName").val();
            	data.lastName = $("#lastName").val();
            	data.email = $("#email").val();
            	
            	$.ajax({
		             type: "POST",
		             contentType: "application/json",
		             url: "/users/add",
		             data: JSON.stringify(data),
		             dataType: 'json',
		             timeout: 6000,
		             success: function (response) {
		                 console.log(response);
		             },
		             error: function (e) {
		                 console.log("error");
		             }
				});
            });
        });
        </script>        
    </body>
</html>